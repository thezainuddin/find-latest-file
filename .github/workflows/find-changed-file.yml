name: Find most recent File changed
# Controls when the workflow will run
on:
  push:
    branches: [ "main" ]
jobs:
  find-changed-file:
      name: Find the file that was updated most recently
      runs-on: ubuntu-latest
      steps:
        - name: Checkout the code
          uses: actions/checkout@v3
        - name: Run a multi-line script
          run: |
            ls -lah
            ls -tl *.conf | head -n1
        - id: file_changes
          uses: trilom/file-changes-action@v1.2.3
          with:
            output: 'json'
            fileOutput: 'json'
        - name: test
          run: |
            cat $HOME/files_modified.json
            echo ${{steps.file_changes.outputs.files_modified}}
            TEMP='${{ steps.file_changes.outputs.files_modified}}'
            newFile=$(sed -E 's|.*(test)|\1|'<<<"$TEMP")
            echo "$newFile" 